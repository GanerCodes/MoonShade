â¨¡ glfw
exec("from OpenGL.GL import *")
â¨¡ OpenGL.GL.shaders
â¨¡ numpy as np
â®Œ time â¨¡ time_ns, sleep
global_t0 = time_nsî®¦
g_tÎ” = ðš²time_nsî®¦-global_t0â†’Ã·10â¹

ð˜­ = ó°²§xâ„‡â»Ê·ô‹‚‡á¶»+yâ‹…(1-â„‡â»Ê·ô‹‚‡Ê¸)

âŠ¢ smart_sleep(Î”):
    ðš¡ = time_nsî®¦ + Î”â‹…10â¹
    Â¿Î”>â…’: sleep(Î”-â…’)
    âž°time_nsî®¦â‰•t < ðš¡: â–¡
    â†ª t

ó±€˜ FPS_Tracker:
    âŠ¢ __init__(ð•Š, N=1):
        ð•Šáµ— = ð•Šáµ—â° = g_tÎ”î®¦
        ð•Šá´º, ð•Šó°€‚, ð•Šó°€…á´¾ó°€’ = N, 0, â–¡
        ð•Šî®¦
    âŠ¢ __call__(ð•Š):
        ð•Šó°€· = (ð•Šáµ— -áµœ ð•Šáµ—â‰”g_tÎ”î®¦)
        Â¿ð•Šó°€…á´¾ó°€’â‰…â–¡: ð•Šó°€…á´¾ó°€’â‰”ó··‰
        x,Î”,N = ð•Šó°€…á´¾ó°€’,ð•Šó°€·,ð•Šá´º
        ð•Šó°€…á´¾ó°€’ = â„‡ôˆ½ó°€·ôŠ½¶á´ºâ‹…(x-Î”ô¨…)+Î”ô¨…
        î¬¦ ð•Šó°€…á´¾ó°€’ = 1Ã·((1-ð•Šá´º ô¨…)â‹…(1Ã·(ó··‰â¤‰ð•Šó°€…á´¾ó°€’)) + ð•Šó°€·/ð•Šá´º)
        î¬¦ ð•Šó°€…á´¾ó°€’ = ð˜­(ð•Šó°€…á´¾ó°€’,ð•Šó°€· ô¨…,ð•Šó°€·,1)
        î¬¦ ð•Šó°€…á´¾ó°€’ = ð•Šó°€…á´¾ó°€’â‹…(1-ð•Šó°€·)+1
        î¬¦ ð•Šó°€…á´¾ó°€’ = ð•Šó°€· ô¨…
        ð•Šó°€‚ ó·¸Š+ 1
        ð•Šó° = ð•Šáµ—-ð•Šáµ—â°
        â†ª ð•Š
    limit = â¥Œð•Š,nâ†¦nô¨…-ð•Šó°€…á´¾ó°€’ ô¨… â­¢á£†ô‹…‚ó°‚â° smart_sleep
    __str__ = ð•Šâ†¦â€¹FPSó°‚ â‚ŒâŸ¦ð•Šá´ºó·¸“âŸ§: âŸ¦ð•Šó°€…á´¾ó°€’â–¢Â²âŸ§â€º

ó±€˜ Activator:
    __slots__ = â›d
    __init__ = â¥Œð•Š,d=â–¡â†¦ð•Šáµˆâ‰”(dâ‰…â–¡â­œ{}â­d)â†’â–ºâ–¡
    âŠ¢ __call__(ð•Š, x, y):
        Â¿ð•Šáµˆ.get(x,â€)â‰ y:
            â†ª ð•Šáµˆâ‚“â‰”y